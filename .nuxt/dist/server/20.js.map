{"version":3,"file":"20.js","sources":["webpack:///./node_modules/@storefront-ui/vue/src/components/molecules/SfRadio/SfRadio.vue?150c","webpack:///./node_modules/@storefront-ui/vue/src/components/molecules/SfRadio/SfRadio.vue?42e3","webpack:///./node_modules/@storefront-ui/vue/src/components/molecules/SfRadio/SfRadio.vue?50e9","webpack:///./node_modules/@storefront-ui/vue/src/components/molecules/SfRadio/SfRadio.vue?db73","webpack:///SfRadio.vue","webpack:///./node_modules/@storefront-ui/vue/src/components/molecules/SfRadio/SfRadio.vue?2fd5","webpack:///./node_modules/@storefront-ui/vue/src/components/molecules/SfRadio/SfRadio.vue","webpack:///./pages/Checkout/Shipping.vue?2da3","webpack:///./pages/Checkout/Shipping.vue?1ae8","webpack:///./pages/Checkout/Shipping.vue?ddde","webpack:///./pages/Checkout/Shipping.vue?2f45","webpack:///Shipping.vue","webpack:///./pages/Checkout/Shipping.vue?7113","webpack:///./pages/Checkout/Shipping.vue"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../../postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../../sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../../../../sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfRadio.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../../../../../vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"56bbfae2\", content, true, context)\n};","export * from \"-!../../../../../../vue-style-loader/index.js??ref--7-oneOf-1-0!../../../../../../css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../../postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../../sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../../../../sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfRadio.vue?vue&type=style&index=0&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@media (min-width:1024px){.smartphone-only{display:none!important}}@media (max-width:1023px){.desktop-only{display:none!important}}.sf-radio{display:flex;display:var(--radio-display,flex);transition:background-color .25s cubic-bezier(1,.5,.8,1);transition:var(--radio-transition,background-color .25s cubic-bezier(1,.5,.8,1))}.sf-radio__label{display:flex;display:var(--radio-label-display,flex);font:var(--font-weight--normal) var(--font-size--base)/normal var(--font-family--primary);font:var(--radio-label-font,var(--radio-label-font-weight,var(--font-weight--normal)) var(--radio-label-font-size,var(--font-size--base))/var(--radio-label-font-line-height,normal) var(--radio-label-font-family,var(--font-family--primary)));color:var(--radio-label-color)}.sf-radio__checkmark{box-sizing:border-box;width:1.5rem;width:var(--radio-checkmark-size,1.5rem);height:1.5rem;height:var(--radio-checkmark-size,1.5rem);border:var(--radio-checkmark-border,var(--radio-checkmark-border-style,solid) var(--radio-checkmark-border-color,var(--c-gray-variant)));border-width:1px;border-width:var(--radio-checkmark-border-width,1px);border-radius:100%;border-radius:var(--radio-checkmark-border-radius,100%);transition:border .25s cubic-bezier(1,.5,.8,1);transition:var(--radio-checkmark-transition,border .25s cubic-bezier(1,.5,.8,1))}.sf-radio__checkmark.is-active{--radio-checkmark-border-width:9px;--radio-checkmark-border-color:var(--c-primary)}.sf-radio input{position:absolute;opacity:0;left:-1000%;width:1px;height:1px}.sf-radio input[style*=\\\"outline: none\\\"]:focus+.sf-radio__checkmark{outline:none}.sf-radio input:focus+.sf-radio__checkmark{outline-color:-webkit-focus-ring-color;outline-style:auto}.sf-radio__container{position:relative;display:flex;display:var(--radio-container-display,flex);align-items:var(--radio-container-align-items);flex:1;padding:var(--radio-container-padding,var(--spacer-sm) var(--spacer-lg) var(--spacer-sm) var(--spacer-sm));cursor:pointer;cursor:var(--radio-container-cursor,pointer)}.sf-radio:hover{--radio-checkmark-border-color:var(--c-black)}.sf-radio__content{flex:1;margin:var(--radio-content-margin,0 0 0 var(--spacer-sm))}.sf-radio__details{margin:var(--radio-details-margin,var(--spacer-xs) 0 0 0);color:var(--c-text-muted);color:var(--radio-details-color,var(--c-text-muted));font:var(--font-weight--light) var(--font-size--sm)/1.2 var(--font-family--primary);font:var(--radio-details-font,var(--radio-details-font-weight,var(--font-weight--light)) var(--radio-details-font-size,var(--font-size--sm))/var(--radio-details-font-line-height,1.2) var(--radio-details-font-family,var(--font-family--primary)))}.sf-radio__description{margin:var(--radio-description-margin,var(--spacer-xs) 0 0 0);font:var(--font-weight--light) var(--font-size--sm)/1.6 var(--font-family--primary);font:var(--radio-description-font,var(--radio-description-font-weight,var(--font-weight--light)) var(--radio-description-font-size,var(--font-size--sm))/var(--radio-description-font-line-height,1.6) var(--radio-description-font-family,var(--font-family--primary)));color:var(--radio-description-margin)}.sf-radio.is-active{background:var(--c-light);background:var(--radio-background,var(--c-light))}.sf-radio.is-disabled{--radio-checkmark-border-color:var(--c-text-disabled);--radio-details-color:var(--c-text-disabled);--radio-description-margin:var(--c-text-disabled);--radio-label-color:var(--c-text-disabled);--radio-container-cursor:default}.sf-radio.is-disabled:hover{--radio-checkmark-border-color:var(--c-text-disabled)}.sf-radio--transparent.is-active{--radio-background:transparent}@media (min-width:1024px){.sf-radio{--radio-container-padding:var(--spacer-sm)}}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sf-radio\",class:{\n    'is-active': _vm.isChecked,\n    'is-disabled': _vm.disabled,\n  }},[_vm._ssrNode(\"<label class=\\\"sf-radio__container\\\">\",\"</label>\",[_c('input',{directives:[{name:\"focus\",rawName:\"v-focus\"}],attrs:{\"type\":\"radio\",\"name\":_vm.name,\"disabled\":_vm.disabled},domProps:{\"value\":_vm.value,\"checked\":_vm.isChecked},on:{\"input\":_vm.inputHandler}},[]),_vm._ssrNode(\" \"),_vm._t(\"checkmark\",[_c('div',{staticClass:\"sf-radio__checkmark\",class:{ 'sf-radio__checkmark is-active': _vm.isChecked }})],null,{ isChecked: _vm.isChecked, disabled: _vm.disabled }),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"sf-radio__content\\\">\",\"</div>\",[_vm._t(\"label\",[(_vm.label)?_c('div',{staticClass:\"sf-radio__label\"},[_vm._v(_vm._s(_vm.label))]):_vm._e()],null,{ label: _vm.label, isChecked: _vm.isChecked, disabled: _vm.disabled }),_vm._ssrNode(\" \"),_vm._t(\"details\",[(_vm.details)?_c('p',{staticClass:\"sf-radio__details\"},[_vm._v(\"\\n          \"+_vm._s(_vm.details)+\"\\n        \")]):_vm._e()],null,{ details: _vm.details }),_vm._ssrNode(\" \"),_vm._t(\"description\",[(_vm.description)?_c('p',{staticClass:\"sf-radio__description\"},[_vm._v(\"\\n          \"+_vm._s(_vm.description)+\"\\n        \")]):_vm._e()],null,{ description: _vm.description })],2)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"sf-radio\"\n    :class=\"{\n      'is-active': isChecked,\n      'is-disabled': disabled,\n    }\"\n  >\n    <label class=\"sf-radio__container\">\n      <input\n        v-focus\n        type=\"radio\"\n        :name=\"name\"\n        :value=\"value\"\n        :checked=\"isChecked\"\n        :disabled=\"disabled\"\n        @input=\"inputHandler\"\n      />\n      <!-- @slot Custom checkmark markup (bind 'isChecked' boolean, 'disabled' boolean -->\n      <slot name=\"checkmark\" v-bind=\"{ isChecked, disabled }\">\n        <div\n          class=\"sf-radio__checkmark\"\n          :class=\"{ 'sf-radio__checkmark is-active': isChecked }\"\n        ></div>\n      </slot>\n      <div class=\"sf-radio__content\">\n        <!-- @slot Custom label markup (bind 'label' string, 'isChecked' boolean, 'disabled' boolean -->\n        <slot name=\"label\" v-bind=\"{ label, isChecked, disabled }\">\n          <div v-if=\"label\" class=\"sf-radio__label\">{{ label }}</div>\n        </slot>\n        <!-- @slot Custom details markup (bind 'details' string -->\n        <slot name=\"details\" v-bind=\"{ details }\">\n          <p v-if=\"details\" class=\"sf-radio__details\">\n            {{ details }}\n          </p>\n        </slot>\n        <!-- @slot Custom description markup (bind 'description' string -->\n        <slot name=\"description\" v-bind=\"{ description }\">\n          <p v-if=\"description\" class=\"sf-radio__description\">\n            {{ description }}\n          </p>\n        </slot>\n      </div>\n    </label>\n  </div>\n</template>\n<script>\nimport { focus } from \"../../../utilities/directives\";\nexport default {\n  name: \"SfRadio\",\n  directives: {\n    focus,\n  },\n  model: {\n    prop: \"selected\",\n    event: \"input\",\n  },\n  props: {\n    name: {\n      type: String,\n      default: \"\",\n    },\n    value: {\n      type: String,\n      default: \"\",\n    },\n    label: {\n      type: String,\n      default: \"\",\n    },\n    details: {\n      type: String,\n      default: \"\",\n    },\n    description: {\n      type: String,\n      default: \"\",\n    },\n    required: {\n      type: Boolean,\n      default: false,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    selected: {\n      type: String,\n      default: \"\",\n    },\n  },\n  computed: {\n    isChecked() {\n      return this.value === this.selected;\n    },\n  },\n  methods: {\n    inputHandler() {\n      this.$emit(\"input\", this.value);\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n@import \"~@storefront-ui/shared/styles/components/molecules/SfRadio.scss\";\n</style>\n","import mod from \"-!../../../../../../babel-loader/lib/index.js??ref--2-0!../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfRadio.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../babel-loader/lib/index.js??ref--2-0!../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfRadio.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SfRadio.vue?vue&type=template&id=74e97305&\"\nimport script from \"./SfRadio.vue?vue&type=script&lang=js&\"\nexport * from \"./SfRadio.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./SfRadio.vue?vue&type=style&index=0&lang=scss&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"1b61ff84\"\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shipping.vue?vue&type=style&index=0&id=663d2d5a&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"702be0b8\", content, true, context)\n};","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shipping.vue?vue&type=style&index=0&id=663d2d5a&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@media (min-width:1024px){.smartphone-only[data-v-663d2d5a]{display:none!important}}@media (max-width:1023px){.desktop-only[data-v-663d2d5a]{display:none!important}}.title[data-v-663d2d5a]{margin:var(--spacer-xl) 0 var(--spacer-base) 0}.form[data-v-663d2d5a]{--button-width:100%}.form__select[data-v-663d2d5a]{display:flex;align-items:center;--select-option-font-size:var(--font-size--lg)}.form__select[data-v-663d2d5a]  .sf-select__dropdown{font-size:var(--font-size--lg);margin:0;color:var(--c-text);font-family:var(--font-family--secondary);font-weight:var(--font-weight--normal)}@media (min-width:1024px){.form[data-v-663d2d5a]{display:flex;flex-wrap:wrap;align-items:center;--button-width:auto}}.form__element[data-v-663d2d5a]{margin:0 0 var(--spacer-xl) 0}@media (min-width:1024px){.form__element[data-v-663d2d5a]{flex:0 0 100%}}@media (min-width:1024px){.form__element--half[data-v-663d2d5a]{flex:1 1 50%}}@media (min-width:1024px){.form__element--half-even[data-v-663d2d5a]{padding:0 0 0 var(--spacer-xl)}}.form__group[data-v-663d2d5a]{display:flex;align-items:center}@media (min-width:1024px){.form__action[data-v-663d2d5a]{flex:0 0 100%;display:flex}}@media (min-width:1024px){.form__action-button--secondary[data-v-663d2d5a]{order:-1;text-align:left}}.form__action-button--add-address[data-v-663d2d5a]{width:100%;margin:0}@media (min-width:1024px){.form__action-button--add-address[data-v-663d2d5a]{margin:0 0 var(--spacer-lg) 0;width:auto}}.form__back-button[data-v-663d2d5a]{margin:var(--spacer-xl) 0 var(--spacer-sm)}.form__back-button[data-v-663d2d5a]:hover{color:var(--c-white)}@media (min-width:1024px){.form__back-button[data-v-663d2d5a]{margin:0 var(--spacer-xl) 0 0}}.form__radio-group[data-v-663d2d5a]{flex:0 0 100%;margin:0 0 var(--spacer-xl) 0}@media (min-width:1024px){.form__radio-group[data-v-663d2d5a]{margin:0 0 var(--spacer-2xl) 0}}.shipping__label[data-v-663d2d5a]{display:flex;justify-content:space-between}.shipping__description[data-v-663d2d5a]{--radio-description-margin:0;--radio-description-font-size:var(--font-xs)}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('SfHeading',{staticClass:\"sf-heading--left sf-heading--no-underline title\",attrs:{\"level\":3,\"title\":\"Shipping\"}}),_vm._ssrNode(\" \"),_c('ValidationObserver',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nvar dirty = ref.dirty;\nvar reset = ref.reset;\nreturn [_c('form',{on:{\"submit\":function($event){$event.preventDefault();handleSubmit(_vm.canContinueToPayment(dirty) ? _vm.handleShippingMethodSubmit(reset) : _vm.handleShippingAddressSubmit(reset))}}},[(_vm.isAuthenticated && _vm.shippingAddresses && _vm.shippingAddresses.length)?_c('UserShippingAddresses',{attrs:{\"setAsDefault\":_vm.setAsDefault,\"shippingAddresses\":_vm.shippingAddresses,\"currentAddressId\":_vm.currentAddressId},on:{\"setCurrentAddress\":function($event){return _vm.setCurrentAddress($event)},\"changeSetAsDefault\":function($event){_vm.setAsDefault = $event}}}):_vm._e(),_vm._v(\" \"),(_vm.canAddNewAddress)?_c('div',{staticClass:\"form\"},[_c('ValidationProvider',{attrs:{\"name\":\"firstName\",\"rules\":\"required|min:2\",\"slim\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('SfInput',{staticClass:\"form__element form__element--half\",attrs:{\"value\":_vm.shippingDetails.firstName,\"label\":\"First name\",\"name\":\"firstName\",\"required\":\"\",\"valid\":!errors[0],\"errorMessage\":errors[0]},on:{\"input\":function (firstName) { return _vm.setShippingDetailsAndUnpickAddress({ firstName: firstName }); }}})]}}],null,true)}),_vm._v(\" \"),_c('ValidationProvider',{attrs:{\"name\":\"lastName\",\"rules\":\"required|min:2\",\"slim\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('SfInput',{staticClass:\"form__element form__element--half form__element--half-even\",attrs:{\"value\":_vm.shippingDetails.lastName,\"label\":\"Last name\",\"name\":\"lastName\",\"required\":\"\",\"valid\":!errors[0],\"errorMessage\":errors[0]},on:{\"input\":function (lastName) { return _vm.setShippingDetailsAndUnpickAddress({ lastName: lastName }); }}})]}}],null,true)}),_vm._v(\" \"),_c('ValidationProvider',{attrs:{\"name\":\"streetName\",\"rules\":\"required|min:2\",\"slim\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('SfInput',{staticClass:\"form__element form__element--half\",attrs:{\"value\":_vm.shippingDetails.streetName,\"label\":\"Street name\",\"name\":\"streetName\",\"required\":\"\",\"valid\":!errors[0],\"errorMessage\":errors[0]},on:{\"input\":function (streetName) { return _vm.setShippingDetailsAndUnpickAddress({ streetName: streetName }); }}})]}}],null,true)}),_vm._v(\" \"),_c('ValidationProvider',{attrs:{\"name\":\"apartment\",\"rules\":\"required|min:2\",\"slim\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('SfInput',{staticClass:\"form__element form__element--half form__element--half-even\",attrs:{\"value\":_vm.shippingDetails.streetNumber,\"label\":\"House/Apartment number\",\"name\":\"apartment\",\"required\":\"\",\"valid\":!errors[0],\"errorMessage\":errors[0]},on:{\"input\":function (streetNumber) { return _vm.setShippingDetailsAndUnpickAddress({ streetNumber: streetNumber }); }}})]}}],null,true)}),_vm._v(\" \"),_c('ValidationProvider',{attrs:{\"name\":\"city\",\"rules\":\"required|min:2\",\"slim\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('SfInput',{staticClass:\"form__element form__element--half\",attrs:{\"value\":_vm.shippingDetails.city,\"label\":\"City\",\"name\":\"city\",\"required\":\"\",\"valid\":!errors[0],\"errorMessage\":errors[0]},on:{\"input\":function (city) { return _vm.setShippingDetailsAndUnpickAddress({ city: city }); }}})]}}],null,true)}),_vm._v(\" \"),_c('ValidationProvider',{attrs:{\"name\":\"zipCode\",\"rules\":\"required|min:2\",\"slim\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('SfInput',{staticClass:\"form__element form__element--half form__element--half-even\",attrs:{\"value\":_vm.shippingDetails.postalCode,\"label\":\"Zip-code\",\"name\":\"zipCode\",\"required\":\"\",\"valid\":!errors[0],\"errorMessage\":errors[0]},on:{\"input\":function (postalCode) { return _vm.setShippingDetailsAndUnpickAddress({ postalCode: postalCode }); }}})]}}],null,true)}),_vm._v(\" \"),_c('ValidationProvider',{attrs:{\"name\":\"country\",\"rules\":\"required|min:2\",\"slim\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('SfSelect',{staticClass:\"form__element form__element--half form__select sf-select--underlined\",attrs:{\"value\":_vm.shippingDetails.country,\"label\":\"Country\",\"name\":\"country\",\"required\":\"\",\"valid\":!errors[0],\"errorMessage\":errors[0]},on:{\"input\":function (country) { return _vm.setShippingDetailsAndUnpickAddress({ country: country }); }}},_vm._l((_vm.countries),function(countryOption){return _c('SfSelectOption',{key:countryOption.name,attrs:{\"value\":countryOption.name}},[_vm._v(\"\\n            \"+_vm._s(countryOption.label)+\"\\n          \")])}),1)]}}],null,true)}),_vm._v(\" \"),_c('ValidationProvider',{attrs:{\"name\":\"phone\",\"rules\":\"required|digits:9\",\"slim\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('SfInput',{staticClass:\"form__element form__element--half form__element--half-even\",attrs:{\"value\":_vm.shippingDetails.contactInfo.phone,\"label\":\"Phone number\",\"name\":\"phone\",\"required\":\"\",\"valid\":!errors[0],\"errorMessage\":errors[0]},on:{\"input\":function (phone) { return _vm.setShippingDetailsAndUnpickAddress({ contactInfo: { phone: phone } }); }}})]}}],null,true)})],1):_vm._e(),_vm._v(\" \"),(!_vm.canAddNewAddress)?_c('SfButton',{staticClass:\"color-light form__action-button form__action-button--add-address\",attrs:{\"type\":\"submit\"},nativeOn:{\"click\":function($event){_vm.canAddNewAddress = true}}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('Add new address'))+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.canContinueToPayment(dirty))?_c('SfHeading',{staticClass:\"sf-heading--left sf-heading--no-underline title\",attrs:{\"level\":3,\"title\":\"Shipping method\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"form\"},[(_vm.canContinueToPayment(dirty))?_c('div',{staticClass:\"form__radio-group\"},_vm._l((_vm.shippingMethods),function(item){return _c('SfRadio',{key:_vm.checkoutGetters.getShippingMethodName(item),staticClass:\"form__radio shipping\",attrs:{\"label\":_vm.checkoutGetters.getShippingMethodName(item),\"value\":_vm.checkoutGetters.getShippingMethodId(item),\"selected\":_vm.checkoutGetters.getShippingMethodId(_vm.chosenShippingMethod),\"name\":\"shippingMethod\",\"description\":_vm.checkoutGetters.getShippingMethodDescription(item)},on:{\"input\":function($event){return _vm.setShippingMethod(item, { save: true })}},scopedSlots:_vm._u([{key:\"label\",fn:function(ref){\nvar label = ref.label;\nreturn [_c('div',{staticClass:\"sf-radio__label shipping__label\"},[_c('div',[_vm._v(_vm._s(label))]),_vm._v(\" \"),_c('div',[_vm._v(\"$\"+_vm._s(_vm.checkoutGetters.getShippingMethodPrice(item)))])])]}},{key:\"description\",fn:function(ref){\nvar description = ref.description;\nreturn [_c('div',{staticClass:\"sf-radio__description shipping__description\"},[_c('div',{staticClass:\"shipping__info\"},[_vm._v(\"\\n                  \"+_vm._s(description)+\"\\n                \")])])]}}],null,true)})}),1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"form__action\"},[_c('nuxt-link',{staticClass:\"sf-button color-secondary form__back-button\",attrs:{\"to\":\"/checkout/personal-details\"}},[_vm._v(\"Go back\")]),_vm._v(\" \"),(_vm.canContinueToPayment(dirty))?_c('SfButton',{staticClass:\"form__action-button\",attrs:{\"type\":\"submit\",\"disabled\":!_vm.isShippingMethodCompleted || _vm.loading.shippingAddress}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('Continue to payment'))+\"\\n          \")]):_c('SfButton',{staticClass:\"form__action-button\",attrs:{\"type\":\"submit\",\"disabled\":_vm.loading.shippingMethods}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('Select shipping method'))+\"\\n          \")])],1)])],1)]}}])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <SfHeading\n      :level=\"3\"\n      title=\"Shipping\"\n      class=\"sf-heading--left sf-heading--no-underline title\"\n    />\n    <ValidationObserver v-slot=\"{ handleSubmit, dirty, reset }\">\n      <form @submit.prevent=\"handleSubmit(canContinueToPayment(dirty) ? handleShippingMethodSubmit(reset) : handleShippingAddressSubmit(reset))\">\n        <UserShippingAddresses\n          v-if=\"isAuthenticated && shippingAddresses && shippingAddresses.length\"\n          :setAsDefault=\"setAsDefault\"\n          :shippingAddresses=\"shippingAddresses\"\n          :currentAddressId=\"currentAddressId\"\n          @setCurrentAddress=\"setCurrentAddress($event)\"\n          @changeSetAsDefault=\"setAsDefault = $event\"\n        />\n        <div class=\"form\" v-if=\"canAddNewAddress\">\n          <ValidationProvider name=\"firstName\" rules=\"required|min:2\" v-slot=\"{ errors }\" slim>\n            <SfInput\n              :value=\"shippingDetails.firstName\"\n              @input=\"firstName => setShippingDetailsAndUnpickAddress({ firstName })\"\n              label=\"First name\"\n              name=\"firstName\"\n              class=\"form__element form__element--half\"\n              required\n              :valid=\"!errors[0]\"\n              :errorMessage=\"errors[0]\"\n            />\n          </ValidationProvider>\n          <ValidationProvider name=\"lastName\" rules=\"required|min:2\" v-slot=\"{ errors }\" slim>\n            <SfInput\n              :value=\"shippingDetails.lastName\"\n              @input=\"lastName => setShippingDetailsAndUnpickAddress({ lastName })\"\n              label=\"Last name\"\n              name=\"lastName\"\n              class=\"form__element form__element--half form__element--half-even\"\n              required\n              :valid=\"!errors[0]\"\n              :errorMessage=\"errors[0]\"\n            />\n          </ValidationProvider>\n          <ValidationProvider name=\"streetName\" rules=\"required|min:2\" v-slot=\"{ errors }\" slim>\n            <SfInput\n              :value=\"shippingDetails.streetName\"\n              @input=\"streetName => setShippingDetailsAndUnpickAddress({ streetName })\"\n              label=\"Street name\"\n              name=\"streetName\"\n              class=\"form__element form__element--half\"\n              required\n              :valid=\"!errors[0]\"\n              :errorMessage=\"errors[0]\"\n            />\n          </ValidationProvider>\n          <ValidationProvider name=\"apartment\" rules=\"required|min:2\" v-slot=\"{ errors }\" slim>\n            <SfInput\n              :value=\"shippingDetails.streetNumber\"\n              @input=\"streetNumber => setShippingDetailsAndUnpickAddress({ streetNumber })\"\n              label=\"House/Apartment number\"\n              name=\"apartment\"\n              class=\"form__element form__element--half form__element--half-even\"\n              required\n              :valid=\"!errors[0]\"\n              :errorMessage=\"errors[0]\"\n            />\n          </ValidationProvider>\n          <ValidationProvider name=\"city\" rules=\"required|min:2\" v-slot=\"{ errors }\" slim>\n            <SfInput\n              :value=\"shippingDetails.city\"\n              @input=\"city => setShippingDetailsAndUnpickAddress({ city })\"\n              label=\"City\"\n              name=\"city\"\n              class=\"form__element form__element--half\"\n              required\n              :valid=\"!errors[0]\"\n              :errorMessage=\"errors[0]\"\n            />\n          </ValidationProvider>\n          <ValidationProvider name=\"zipCode\" rules=\"required|min:2\" v-slot=\"{ errors }\" slim>\n            <SfInput\n              :value=\"shippingDetails.postalCode\"\n              @input=\"postalCode => setShippingDetailsAndUnpickAddress({ postalCode })\"\n              label=\"Zip-code\"\n              name=\"zipCode\"\n              class=\"form__element form__element--half form__element--half-even\"\n              required\n              :valid=\"!errors[0]\"\n              :errorMessage=\"errors[0]\"\n            />\n          </ValidationProvider>\n          <ValidationProvider name=\"country\" rules=\"required|min:2\" v-slot=\"{ errors }\" slim>\n          <SfSelect\n            :value=\"shippingDetails.country\"\n            @input=\"country => setShippingDetailsAndUnpickAddress({ country })\"\n            label=\"Country\"\n            name=\"country\"\n            class=\"form__element form__element--half form__select sf-select--underlined\"\n            required\n            :valid=\"!errors[0]\"\n            :errorMessage=\"errors[0]\"\n          >\n            <SfSelectOption\n              v-for=\"countryOption in countries\"\n              :key=\"countryOption.name\"\n              :value=\"countryOption.name\"\n            >\n              {{ countryOption.label }}\n            </SfSelectOption>\n          </SfSelect>\n          </ValidationProvider>\n          <ValidationProvider name=\"phone\" rules=\"required|digits:9\" v-slot=\"{ errors }\" slim>\n          <SfInput\n            :value=\"shippingDetails.contactInfo.phone\"\n            @input=\"phone => setShippingDetailsAndUnpickAddress({ contactInfo: { phone } })\"\n            label=\"Phone number\"\n            name=\"phone\"\n            class=\"form__element form__element--half form__element--half-even\"\n            required\n            :valid=\"!errors[0]\"\n            :errorMessage=\"errors[0]\"\n          />\n          </ValidationProvider>\n        </div>\n        <SfButton\n          v-if=\"!canAddNewAddress\"\n          class=\"color-light form__action-button form__action-button--add-address\"\n          type=\"submit\"\n          @click.native=\"canAddNewAddress = true\"\n        >\n          {{ $t('Add new address') }}\n        </SfButton>\n        <SfHeading\n          v-if=\"canContinueToPayment(dirty)\"\n          :level=\"3\"\n          title=\"Shipping method\"\n          class=\"sf-heading--left sf-heading--no-underline title\"\n        />\n        <div class=\"form\">\n          <div class=\"form__radio-group\" v-if=\"canContinueToPayment(dirty)\">\n            <SfRadio\n              v-for=\"item in shippingMethods\"\n              :key=\"checkoutGetters.getShippingMethodName(item)\"\n              :label=\"checkoutGetters.getShippingMethodName(item)\"\n              :value=\"checkoutGetters.getShippingMethodId(item)\"\n              :selected=\"checkoutGetters.getShippingMethodId(chosenShippingMethod)\"\n              @input=\"setShippingMethod(item, { save: true })\"\n              name=\"shippingMethod\"\n              :description=\"checkoutGetters.getShippingMethodDescription(item)\"\n              class=\"form__radio shipping\"\n            >\n              <template #label=\"{label}\">\n                <div class=\"sf-radio__label shipping__label\">\n                  <div>{{ label }}</div>\n                  <div>${{ checkoutGetters.getShippingMethodPrice(item) }}</div>\n                </div>\n              </template>\n              <template #description=\"{description}\">\n                <div class=\"sf-radio__description shipping__description\">\n                  <div class=\"shipping__info\">\n                    {{ description }}\n                  </div>\n                </div>\n              </template>\n            </SfRadio>\n          </div>\n          <div class=\"form__action\">\n            <nuxt-link to=\"/checkout/personal-details\" class=\"sf-button color-secondary form__back-button\">Go back</nuxt-link>\n            <SfButton class=\"form__action-button\" type=\"submit\" v-if=\"canContinueToPayment(dirty)\" :disabled=\"!isShippingMethodCompleted || loading.shippingAddress\">\n              {{ $t('Continue to payment') }}\n            </SfButton>\n            <SfButton class=\"form__action-button\" type=\"submit\" :disabled=\"loading.shippingMethods\" v-else>\n              {{ $t('Select shipping method') }}\n            </SfButton>\n          </div>\n        </div>\n      </form>\n    </ValidationObserver>\n  </div>\n</template>\n\n<script>\nimport {\n  SfHeading,\n  SfInput,\n  SfButton,\n  SfSelect,\n  SfRadio,\n  SfCheckbox\n} from '@storefront-ui/vue';\nimport { useCheckout, useUserShipping, useUser, checkoutGetters, userShippingGetters } from '@vue-storefront/commercetools';\nimport { ValidationProvider, ValidationObserver, extend } from 'vee-validate';\nimport { required, min, digits } from 'vee-validate/dist/rules';\nimport { onSSR, useVSFContext } from '@vue-storefront/core';\nimport { ref, onMounted, computed } from '@vue/composition-api';\n\nextend('required', {\n  ...required,\n  message: 'This field is required'\n});\nextend('min', {\n  ...min,\n  message: 'The field should have at least {length} characters'\n});\nextend('digits', {\n  ...digits,\n  message: 'Please provide a valid phone number'\n});\nexport default {\n  name: 'Shipping',\n  components: {\n    SfHeading,\n    SfInput,\n    SfButton,\n    SfSelect,\n    SfRadio,\n    SfCheckbox,\n    UserShippingAddresses: () => import('~/components/Checkout/UserShippingAddresses'),\n    ValidationProvider,\n    ValidationObserver\n  },\n  setup(props, context) {\n    const { $ct: { config } } = useVSFContext();\n\n    const {\n      shippingDetails,\n      chosenShippingMethod,\n      setShippingDetails,\n      setShippingMethod,\n      shippingMethods,\n      loadShippingMethods,\n      isShippingAddressCompleted,\n      isShippingMethodCompleted,\n      loadDetails,\n      loading\n    } = useCheckout();\n    const { shipping, load: loadUserShipping, setDefaultAddress } = useUserShipping();\n    const { isAuthenticated } = useUser();\n\n    const canAddNewAddress = ref(true);\n    const addressIsModified = ref(false);\n    const currentAddressId = ref(-1);\n    const setAsDefault = ref(false);\n\n    const mapAbstractAddressToIntegrationAddress = address => ({\n      ...shippingDetails.value,\n      contactInfo: {\n        ...shippingDetails.value.contactInfo,\n        phone: address.phoneNumber\n      },\n      streetNumber: address.apartment,\n      city: address.city,\n      country: address.country,\n      state: address.state,\n      firstName: address.firstName,\n      lastName: address.lastName,\n      streetName: address.streetName,\n      postalCode: address.zipCode\n    });\n\n    const setCurrentAddress = async (addressId) => {\n      const chosenAddress = userShippingGetters.getAddresses(shipping.value, { id: addressId });\n      if (!chosenAddress || !chosenAddress.length) {\n        return;\n      }\n      currentAddressId.value = addressId;\n      setShippingDetails(mapAbstractAddressToIntegrationAddress(chosenAddress[0]));\n      addressIsModified.value = true;\n    };\n\n    onSSR(async () => {\n      await loadDetails();\n      await loadShippingMethods();\n    });\n\n    onMounted(async () => {\n      if (isAuthenticated.value) {\n        await loadUserShipping();\n        const shippingAddresses = userShippingGetters.getAddresses(shipping.value);\n        if (!shippingAddresses || !shippingAddresses.length) {\n          return;\n        }\n        canAddNewAddress.value = false;\n        if (shippingAddresses[0].isDefault) {\n          setCurrentAddress(shippingAddresses[0].id);\n        }\n      }\n    });\n\n    const handleShippingAddressSubmit = (reset) => async () => {\n      await setShippingDetails(shippingDetails.value, { save: true });\n      await loadShippingMethods();\n      reset();\n      if (currentAddressId.value > -1 && setAsDefault.value) {\n        const chosenAddress = userShippingGetters.getAddresses(shipping.value, { id: currentAddressId.value });\n        if (!chosenAddress || !chosenAddress.length) {\n          return;\n        }\n        await setDefaultAddress(chosenAddress[0]);\n      }\n      addressIsModified.value = false;\n    };\n    const handleShippingMethodSubmit = (reset) => async () => {\n      await setShippingMethod(chosenShippingMethod.value, { save: true });\n      reset();\n      context.root.$router.push('/checkout/payment');\n    };\n\n    const setShippingDetailsAndUnpickAddress = value => {\n      setShippingDetails(value);\n      currentAddressId.value = -1;\n      addressIsModified.value = true;\n    };\n\n    const canContinueToPayment = dirty => isShippingAddressCompleted.value && !dirty && !addressIsModified.value;\n\n    return {\n      loading,\n      handleShippingAddressSubmit,\n      handleShippingMethodSubmit,\n      isShippingAddressCompleted,\n      isShippingMethodCompleted,\n      setShippingDetailsAndUnpickAddress,\n      setShippingMethod,\n      shippingDetails,\n      chosenShippingMethod,\n      shippingMethods,\n      checkoutGetters,\n      countries: config.countries,\n      shippingAddresses: computed(() => userShippingGetters.getAddresses(shipping.value)),\n      canAddNewAddress,\n      addressIsModified,\n      isAuthenticated,\n      currentAddressId: computed(() => currentAddressId.value),\n      setAsDefault,\n      setCurrentAddress,\n      canContinueToPayment\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.title {\n  margin: var(--spacer-xl) 0 var(--spacer-base) 0;\n}\n.form {\n  --button-width: 100%;\n  &__select {\n    display: flex;\n    align-items: center;\n    --select-option-font-size: var(--font-size--lg);\n    ::v-deep .sf-select__dropdown {\n      font-size: var(--font-size--lg);\n      margin: 0;\n      color: var(--c-text);\n      font-family: var(--font-family--secondary);\n      font-weight: var(--font-weight--normal);\n    }\n  }\n  @include for-desktop {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    --button-width: auto;\n  }\n  &__element {\n    margin: 0 0 var(--spacer-xl) 0;\n    @include for-desktop {\n      flex: 0 0 100%;\n    }\n    &--half {\n      @include for-desktop {\n        flex: 1 1 50%;\n      }\n      &-even {\n        @include for-desktop {\n          padding: 0 0 0 var(--spacer-xl);\n        }\n      }\n    }\n  }\n  &__group {\n    display: flex;\n    align-items: center;\n  }\n  &__action {\n    @include for-desktop {\n      flex: 0 0 100%;\n      display: flex;\n    }\n  }\n  &__action-button {\n    &--secondary {\n      @include for-desktop {\n        order: -1;\n        text-align: left;\n      }\n    }\n    &--add-address {\n      width: 100%;\n      margin: 0;\n      @include for-desktop {\n        margin: 0 0 var(--spacer-lg) 0;\n        width: auto;\n      }\n    }\n  }\n  &__back-button {\n    margin: var(--spacer-xl) 0 var(--spacer-sm);\n    &:hover {\n      color:  var(--c-white);\n    }\n    @include for-desktop {\n      margin: 0 var(--spacer-xl) 0 0;\n    }\n  }\n  &__radio-group {\n    flex: 0 0 100%;\n    margin: 0 0 var(--spacer-xl) 0;\n    @include for-desktop {\n      margin: 0 0 var(--spacer-2xl) 0;\n    }\n\n  }\n}\n.shipping {\n  &__label {\n    display: flex;\n    justify-content: space-between;\n  }\n  &__description {\n    --radio-description-margin: 0;\n    --radio-description-font-size: var(--font-xs);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shipping.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shipping.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Shipping.vue?vue&type=template&id=663d2d5a&scoped=true&\"\nimport script from \"./Shipping.vue?vue&type=script&lang=js&\"\nexport * from \"./Shipping.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./Shipping.vue?vue&type=style&index=0&id=663d2d5a&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"663d2d5a\",\n  \"3d58b6ba\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0CA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AA7BA;AAkCA;AACA;AACA;AACA;AACA;AAJA;AAKA;AACA;AACA;AACA;AACA;AAJA;AAhDA;;AChDA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2JA;AAQA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAFA;AAIA;AAEA;AAFA;AAIA;AAEA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AACA;AAUA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAYA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AACA;AAeA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;AAsBA;AACA;AAnIA;;AC/MA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}